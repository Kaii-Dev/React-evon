{"ast":null,"code":"var _jsxFileName = \"/Users/khai/Library/Mobile Documents/com~apple~CloudDocs/Desktop/WORKSPACE/REACT-BIG/React-evon/my-app/src/context/galleryContext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { createContext, useContext, useState } from \"react\";\nimport useLocalStorage from \"../hooks/useLocalStorage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GalleryContext = /*#__PURE__*/createContext();\nconst fakeData = [{\n  id: 1,\n  url: \"https://images.unsplash.com/photo-1652541594278-d7dbc83be9d6?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=60&raw_url=true&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwzfHx8ZW58MHx8fHw%3D&auto=format&fit=crop&w=400\",\n  isFavorite: false\n}, {\n  id: 2,\n  url: \"https://images.unsplash.com/photo-1652717730391-80e9ef30e71f?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=60&raw_url=true&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHw1fHx8ZW58MHx8fHw%3D&auto=format&fit=crop&w=400\",\n  isFavorite: false\n}, {\n  id: 3,\n  url: \"https://images.unsplash.com/photo-1652876343954-2dbf517cfa4e?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=60&raw_url=true&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHw3fHx8ZW58MHx8fHw%3D&auto=format&fit=crop&w=400\",\n  isFavorite: false\n}, {\n  id: 4,\n  url: \"https://images.unsplash.com/photo-1652821957707-ae78781ec5bf?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=60&raw_url=true&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxN3x8fGVufDB8fHx8&auto=format&fit=crop&w=400\",\n  isFavorite: false\n}];\n\nfunction GalleryProvider(props) {\n  _s();\n\n  const {\n    storedValue,\n    setStoredValue\n  } = useLocalStorage(\"photo\", fakeData);\n  console.log(\"ðŸš€ ~ GalleryProvider ~ fakeData\", fakeData);\n  console.log(\"ðŸš€ ~ GalleryProvider ~ storedValue\", storedValue);\n  const [photo, setPhoto] = useState(fakeData);\n  const [favoriteList, setFavoriteList] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n\n  function toggleFavorite(photoId) {\n    const updatedArray = photo.map(photo => {\n      if (photo.id === photoId) {\n        return { ...photo,\n          isFavorite: !photo.isFavorite\n        };\n      }\n\n      return photo;\n    });\n    setPhoto(updatedArray);\n  } //viet fnc addToCart\n  //fn addToCart truyen parm la photo\n  // cap nhat lai state gio hang cartItems\n\n\n  function addToCart(newItem) {\n    //// dÃ¹ng callback Ä‘á»ƒ láº¥y nhá»¯ng giÃ¡ trá»‹ cÅ© rá»“i dÃ¹ng spread operator Ä‘á»ƒ Ä‘Æ°a nÃ³ vÃ o danh sÃ¡ch cart cÃ¹ng vá»›i item má»›i\n    setCartItems(previousItem => {\n      const isExist = previousItem.some(item => item.id === newItem.id); // some kiá»ƒm tra tráº£ ra boolean\n\n      console.log(\"ðŸš€ ~ setCartItems ~ isExist\", isExist);\n      if (isExist) return [...previousItem];\n      return [...previousItem, newItem];\n    });\n  }\n\n  function removeFromCart(photoId) {\n    setCartItems(previousItem => previousItem.filter(item => item.id !== photoId));\n  }\n\n  const value = {\n    photo,\n    cartItems,\n    favoriteList,\n    setPhoto,\n    setFavoriteList,\n    setCartItems,\n    toggleFavorite,\n    addToCart,\n    removeFromCart\n  };\n  return /*#__PURE__*/_jsxDEV(GalleryContext.Provider, {\n    value: value,\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n\n_s(GalleryProvider, \"sHswXMRU2rW/h88642SXtILMPHo=\", false, function () {\n  return [useLocalStorage];\n});\n\n_c = GalleryProvider;\n\nfunction useGallery() {\n  _s2();\n\n  const context = useContext(GalleryContext);\n\n  if (typeof context === \"undefined\") {\n    throw new Error(\"useGallery must be used within GalleryProvider\");\n  }\n\n  return context;\n}\n\n_s2(useGallery, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n\nexport { useGallery, GalleryProvider };\n\nvar _c;\n\n$RefreshReg$(_c, \"GalleryProvider\");","map":{"version":3,"sources":["/Users/khai/Library/Mobile Documents/com~apple~CloudDocs/Desktop/WORKSPACE/REACT-BIG/React-evon/my-app/src/context/galleryContext.js"],"names":["React","createContext","useContext","useState","useLocalStorage","GalleryContext","fakeData","id","url","isFavorite","GalleryProvider","props","storedValue","setStoredValue","console","log","photo","setPhoto","favoriteList","setFavoriteList","cartItems","setCartItems","toggleFavorite","photoId","updatedArray","map","addToCart","newItem","previousItem","isExist","some","item","removeFromCart","filter","value","useGallery","context","Error"],"mappings":"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","sourcesContent":["import React, { createContext, useContext, useState } from \"react\";\nimport useLocalStorage from \"../hooks/useLocalStorage\";\n\nconst GalleryContext = createContext();\nconst fakeData = [\n  {\n    id: 1,\n    url: \"https://images.unsplash.com/photo-1652541594278-d7dbc83be9d6?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=60&raw_url=true&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwzfHx8ZW58MHx8fHw%3D&auto=format&fit=crop&w=400\",\n    isFavorite: false,\n  },\n  {\n    id: 2,\n    url: \"https://images.unsplash.com/photo-1652717730391-80e9ef30e71f?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=60&raw_url=true&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHw1fHx8ZW58MHx8fHw%3D&auto=format&fit=crop&w=400\",\n    isFavorite: false,\n  },\n  {\n    id: 3,\n    url: \"https://images.unsplash.com/photo-1652876343954-2dbf517cfa4e?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=60&raw_url=true&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHw3fHx8ZW58MHx8fHw%3D&auto=format&fit=crop&w=400\",\n    isFavorite: false,\n  },\n  {\n    id: 4,\n    url: \"https://images.unsplash.com/photo-1652821957707-ae78781ec5bf?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=60&raw_url=true&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxN3x8fGVufDB8fHx8&auto=format&fit=crop&w=400\",\n    isFavorite: false,\n  },\n];\n\nfunction GalleryProvider(props) {\n  const { storedValue, setStoredValue } = useLocalStorage(\"photo\", fakeData);\n  console.log(\"ðŸš€ ~ GalleryProvider ~ fakeData\", fakeData)\n  console.log(\"ðŸš€ ~ GalleryProvider ~ storedValue\", storedValue);\n  const [photo, setPhoto] = useState(fakeData);\n  const [favoriteList, setFavoriteList] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n\n  function toggleFavorite(photoId) {\n    const updatedArray = photo.map((photo) => {\n      if (photo.id === photoId) {\n        return { ...photo, isFavorite: !photo.isFavorite };\n      }\n      return photo;\n    });\n    setPhoto(updatedArray);\n  }\n\n  //viet fnc addToCart\n  //fn addToCart truyen parm la photo\n  // cap nhat lai state gio hang cartItems\n  function addToCart(newItem) {\n    //// dÃ¹ng callback Ä‘á»ƒ láº¥y nhá»¯ng giÃ¡ trá»‹ cÅ© rá»“i dÃ¹ng spread operator Ä‘á»ƒ Ä‘Æ°a nÃ³ vÃ o danh sÃ¡ch cart cÃ¹ng vá»›i item má»›i\n    setCartItems((previousItem) => {\n      const isExist = previousItem.some((item) => item.id === newItem.id); // some kiá»ƒm tra tráº£ ra boolean\n      console.log(\"ðŸš€ ~ setCartItems ~ isExist\", isExist);\n      if (isExist) return [...previousItem];\n      return [...previousItem, newItem];\n    });\n  }\n\n  function removeFromCart(photoId) {\n    setCartItems((previousItem) =>\n      previousItem.filter((item) => item.id !== photoId)\n    );\n  }\n  const value = {\n    photo,\n    cartItems,\n    favoriteList,\n    setPhoto,\n    setFavoriteList,\n    setCartItems,\n    toggleFavorite,\n    addToCart,\n    removeFromCart,\n  };\n\n  return (\n    <GalleryContext.Provider value={value} {...props}></GalleryContext.Provider>\n  );\n}\n\nfunction useGallery() {\n  const context = useContext(GalleryContext);\n  if (typeof context === \"undefined\") {\n    throw new Error(\"useGallery must be used within GalleryProvider\");\n  }\n  return context;\n}\n\nexport { useGallery, GalleryProvider };\n"]},"metadata":{},"sourceType":"module"}